package main

import "strconv"

//ç´¯åŠ æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç»„æˆå®ƒçš„æ•°å­—å¯ä»¥å½¢æˆç´¯åŠ åºåˆ—ã€‚
//
// ä¸€ä¸ªæœ‰æ•ˆçš„ç´¯åŠ åºåˆ—å¿…é¡»è‡³å°‘åŒ…å« 3 ä¸ªæ•°ã€‚é™¤äº†æœ€å¼€å§‹çš„ä¸¤ä¸ªæ•°ä»¥å¤–ï¼Œå­—ç¬¦ä¸²ä¸­çš„å…¶ä»–æ•°éƒ½ç­‰äºå®ƒä¹‹å‰ä¸¤ä¸ªæ•°ç›¸åŠ çš„å’Œã€‚ 
//
// ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­— '0'-'9' çš„å­—ç¬¦ä¸²ï¼Œç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ç»™å®šè¾“å…¥æ˜¯å¦æ˜¯ç´¯åŠ æ•°ã€‚ 
//
// è¯´æ˜: ç´¯åŠ åºåˆ—é‡Œçš„æ•°ä¸ä¼šä»¥ 0 å¼€å¤´ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç° 1, 2, 03 æˆ–è€… 1, 02, 3 çš„æƒ…å†µã€‚ 
//
// ç¤ºä¾‹ 1: 
//
// è¾“å…¥: "112358"
//è¾“å‡º: true 
//è§£é‡Š: ç´¯åŠ åºåˆ—ä¸º: 1, 1, 2, 3, 5, 8 ã€‚1 + 1 = 2, 1 + 2 = 3, 2 + 3 = 5, 3 + 5 = 8
// 
//
// ç¤ºä¾‹ 2: 
//
// è¾“å…¥: "199100199"
//è¾“å‡º: true 
//è§£é‡Š: ç´¯åŠ åºåˆ—ä¸º: 1, 99, 100, 199ã€‚1 + 99 = 100, 99 + 100 = 199 
//
// è¿›é˜¶: 
//ä½ å¦‚ä½•å¤„ç†ä¸€ä¸ªæº¢å‡ºçš„è¿‡å¤§çš„æ•´æ•°è¾“å…¥? 
// Related Topics å›æº¯ç®—æ³• 
// ğŸ‘ 102 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
func isAdditiveNumber(num string) bool {
	ret := false
	//l,ml := len(num),len(num)/2 //å•ä¸ªæ•°å­—é•¿åº¦ä¸å¤§äºml
	trace := func(cnt,n1,n2 int,rest string) {}
	// cnt æ˜¯ç›®å‰æ± å†…æ•°å­—ï¼Œå½“cnt > 2 æ‰ä¼šåˆ¤æ–­
	// rest æ˜¯å¯é€‰æ‹©çš„string

	trace = func(cnt, n1, n2 int, rest string) {
		if len(rest) == 0 {
			if cnt > 2 {
				ret = true
			}
			return
		}

		//å¼€å§‹ä»restä¸­å–å€¼ï¼Œæ·»åŠ åˆ†æ”¯å¹¶å‰ªæ
		n3 := ""
		for _,e := range rest {
			n3 = n3+string(e)
			// 0 å¯ä»¥æ–°å»ºåˆ†æ”¯ 01 02 åˆ™å‰ªæ
			if n3[0]=='0' && len(n3)!=1 {
				// å‰ªæ
				return
			}
			e,_ := strconv.Atoi(n3)
			if cnt >= 2 {
				if e == n1+n2 { //åˆ¤æ–­æ˜¯å¦å¯ä»¥æ–°å»ºåˆ†æ”¯
					// æ–°å»ºåˆ†æ”¯
					trace(cnt+1,n2,e,rest[len(n3):])
				}
			}else {
				// æ–°å»ºåˆ†æ”¯
				trace(cnt+1,n2,e,rest[len(n3):])
			}
			if ret {
				// å·²æœ‰ç­”æ¡ˆï¼Œå‰ªæ
				return
			}
		}
	}

	//199100199
	//
	trace(0,0,0,num)
	return ret
}
//leetcode submit region end(Prohibit modification and deletion)
















